function buildRecommendation(){

            
    var nodesHoch = [{'id':'Männlich', 'color':'#82b366'},{'id': '1549', 'color':'#82b366'}, {'id':'Bereichsausbildung Sanitäter', 'color':'#82b366'},{'id': 'Ortungstrupp A', 'color':'#82b366'},{'id': '1558', 'color':'#82b366'},{'id': 'Grundausbildung', 'color':'#82b366'},{'id':'1536', 'color':'#82b366'},{'id':'Ausbildung Kraftfahrer', 'color':'#82b366'},{'id':'1524', 'color':'#82b366'},{'id':'1523', 'color':'#82b366'},{'id':'1507', 'color':'#82b366'},{'id':'Weiblich', 'color':'#82b366'},{'id':'1506', 'color':'#82b366'},{'id':'Bereichsausbildung Sprechfunk-Grundausbildung', 'color':'#82b366'}, {'id':'1508', 'color':'#82b366'},{'id':'1568', 'color':'#82b366'},{'id':'Bereichsausbildung Sprechfunker', 'color':'#82b366'},{'id':'1563', 'color':'#82b366'}, {'id':'-/2/7/9 (+9)', 'color':'#82b366'},{'id':'7', 'color':'#82b366'},{'id':'Bediener/in technisches Ortungs- gerät, Kraftfahrer/in BE, Rettungshundeführer/in, Sanitätshelfer/in,Sprechfunker/in', 'color':'#82b366'}, {'id':'Fachhelfer', 'color':'#82b366'},{'id':'Truppführer', 'color':'#82b366'},{'id':'1', 'color':'#82b366'},{'id':'Sprechfunker', 'color':'#82b366'},{'id':'Technische Beratung', 'color':'#82b366'}, {'id':'Actor', 'color':'#d79b00'}, {'id':'12', 'color':'#82b366'},{ 'id':'135', 'color':'#82b366'}, { 'id':'Mission', 'color':'#d79b00'}, { 'id':'Ortungs-, Rettungs-, Bergungsmaßnahmen', 'color':'#9673a6'}, { 'id':'Orten (biologisch),Orten (technisch, Boden),Bergen/Retten von Personen (leicht),Absperren/Absichern,Erkunden (Boden),Ersthelfen,Führen,Eigenschutz,Transportfähigkeit sicherstellen', 'color':'#9673a6'}, {'id':'Resources', 'color':'#d79b00'},{'id':'Mannschaftstransportwagen TZ,Anhänger mit Spezialaufbau FGr O (2 t Zuladung)', 'color':'#23445d'}, {'id':'Gruppenführer', 'color':'#82b366'},{'id':'Biberach, Baden-Württemberg, Germany', 'color':'white'},{'id':'Location', 'color':'#d79b00'},{'id':'Friedrichshafen, Biberach, Baden-Württemberg, Germany', 'color':'white'},{'id':'Scenario Pattern', 'color':'#b85450'},{'id':'Impact', 'color':'#d79b00'},{'id':'0:10:32:08', 'color':'#6c8ebf'},{'id':'Reason', 'color':'#d79b00'},{'id':'Hochwasser', 'color':'white'}, {'id':'Provenance', 'color':'#d79b00'},{'id':'THW', 'color':'yellow'},{'id':'Identifier', 'color':'#d79b00'},{'id':'789453', 'color':'grey'},{'id':'Context', 'color':'#d79b00'},{'id':'Gefahren und Anforderungen aufgrund von Natur- ereignissen und anthropogenen Umwelteinflüssen', 'color':'#6c8ebf'}, {'id':'Hochwasser/Sturmfluten', 'color':'#6c8ebf'},{'id':'Hochwasser in Bächen, Flüssen und Stromtälern', 'color':'#6c8ebf'},{'id':'Actors', 'color':'#d79b00'}]
    var linksHoch = [{"source": '1549', "target": 'Männlich', "name":  'Gender'},{"source": '1549', "target": 'Bereichsausbildung Sanitäter', "name":  'Qualification'},{"source": 'Ortungstrupp A', "target": '1549', "name":  'Assigned Person'}, {"source": '1558', "target": 'Männlich', "name":  'Gender'},{"source": '1558', "target": 'Grundausbildung', "name":  'Qualification'},{"source": 'Ortungstrupp A', "target": '1558', "name":  'Assigned Person'}, {"source": '1536', "target": 'Männlich', "name":  'Gender'},{"source": '1536', "target": 'Ausbildung Kraftfahrer', "name":  'Qualification'},{"source": 'Ortungstrupp A', "target": '1536', "name":  'Assigned Person'}, {"source": '1524', "target": 'Männlich', "name":  'Gender'},{"source": '1524', "target": 'Grundausbildung', "name":  'Qualification'},{"source": 'Ortungstrupp A', "target": '1524', "name":  'Assigned Person'}, {"source": '1523', "target": 'Männlich', "name":  'Gender'},{"source": '1523', "target": 'Grundausbildung', "name":  'Qualification'},{"source": 'Ortungstrupp A', "target": '1523', "name":  'Assigned Person'}, {"source": '1507', "target": 'Weiblich', "name":  'Gender'},{"source": '1507', "target": 'Grundausbildung', "name":  'Qualification'},{"source": 'Ortungstrupp A', "target": '1507', "name":  'Assigned Person'}, {"source": '1506', "target": 'Männlich', "name":  'Gender'},{"source": '1506', "target": 'Bereichsausbildung Sprechfunk-Grundausbildung', "name":  'Qualification'},{"source": 'Ortungstrupp A', "target": '1506', "name":  'Assigned Person'}, {"source": '1508', "target": 'Männlich', "name":  'Gender'},{"source": '1508', "target": 'Grundausbildung', "name":  'Qualification'},{"source": 'Ortungstrupp A', "target": '1508', "name":  'Assigned Person'}, {"source": '1568', "target": 'Männlich', "name":  'Gender'},{"source": '1568', "target": 'Bereichsausbildung Sprechfunker', "name":  'Qualification'},{"source": 'Ortungstrupp A', "target": '1568', "name":  'Assigned Person'}, {"source": '1563', "target": 'Weiblich', "name":  'Gender'},{"source": '1563', "target": 'Grundausbildung', "name":  'Qualification'},{"source": 'Ortungstrupp A', "target": '1563', "name":  'Assigned Person'}, {"source": '1523', "target": 'Männlich', "name":  'Gender'},{"source": '1523', "target": 'Grundausbildung', "name":  'Qualification'},{"source": 'Ortungstrupp A', "target": '1523', "name":  'Assigned Person'}, {"source": 'Ortungstrupp A', "target": '-/2/7/9 (+9)', "name":  'Strength'},{"source": 'Ortungstrupp A', "target": 'Fachhelfer', "name":  'Role'},{"source": 'Fachhelfer', "target": '7', "name":  'NumberOfActors'}, {"source": 'Fachhelfer', "target": 'Bediener/in technisches Ortungs- gerät, Kraftfahrer/in BE, Rettungshundeführer/in, Sanitätshelfer/in,Sprechfunker/in', "name":  'Function'}, {"source": 'Ortungstrupp A', "target": 'Truppführer', "name":  'Role'},{"source": 'Truppführer', "target": '1', "name":  'NumberOfActors'},{"source": 'Truppführer', "target": 'Sprechfunker', "name":  'Function'}, {"source": 'Ortungstrupp A', "target": 'Gruppenführer', "name":  'Role'},{"source": 'Gruppenführer', "target": '1', "name":  'NumberOfActors'},{"source": 'Gruppenführer', "target": 'Technische Beratung', "name":  'Function'}, {"source": 'Actor', "target": 'Technische Beratung', "name":  'Function'},{"source": 'Actor', "target": '12', "name":  'NumberOfHelpers'},{"source": 'Actor', "target": '135', "name":  'Work'},{"source": 'Actor', "target": 'Mission', "name":  'take'}, {"source": 'Mission', "target": 'Ortungs-, Rettungs-, Bergungsmaßnahmen', "name":  'ActionType'},{"source": 'Ortungs-, Rettungs-, Bergungsmaßnahmen', "target": 'Orten (biologisch),Orten (technisch, Boden),Bergen/Retten von Personen (leicht),Absperren/Absichern,Erkunden (Boden),Ersthelfen,Führen,Eigenschutz,Transportfähigkeit sicherstellen', "name":  'Action'}, {"source": 'Mission', "target": 'Resources', "name":  'requires'},{"source": 'Resources', "target": 'Mannschaftstransportwagen TZ,Anhänger mit Spezialaufbau FGr O (2 t Zuladung)', "name":  'Vehicles'},{"source": 'Resources', "target": 'Biberach, Baden-Württemberg, Germany', "name":  'requires'}, {"source": 'Biberach, Baden-Württemberg, Germany', "target": 'Location', "name":  'Is'},{"source": 'Friedrichshafen, Biberach, Baden-Württemberg, Germany', "target": 'Location', "name":  'Is'},{"source": 'Scenario Pattern', "target": 'Actors', "name":  'involves'},{"source": 'Scenario Pattern', "target": 'Friedrichshafen, Biberach, Baden-Württemberg, Germany', "name":  'reportedAt'}, {"source": 'Scenario Pattern', "target": 'Impact', "name":  'creates'},{"source": 'Impact', "target": '0:10:32:08', "name":  'Duration'},{"source": 'Scenario Pattern', "target": 'Reason', "name":  'causedBy'},{"source": 'Reason', "target": 'Hochwasser', "name":  'Precondition'}, {"source": 'Scenario Pattern', "target": 'Provenance', "name":  'describedBy'},{"source": 'Provenance', "target": 'THW', "name":  'Organization'},{"source": 'Scenario Pattern', "target": 'Identifier', "name":  'definedBy'},{"source": 'Identifier', "target": '789453', "name":  'ID'}, {"source": 'Scenario Pattern', "target": 'Context', "name":  'boundedBy'},{"source": 'Context', "target": 'Gefahren und Anforderungen aufgrund von Natur- ereignissen und anthropogenen Umwelteinflüssen', "name":  'HazardType'},{"source": 'Gefahren und Anforderungen aufgrund von Natur- ereignissen und anthropogenen Umwelteinflüssen', "target": 'Hochwasser/Sturmfluten', "name":  'Event'}, {"source": 'Hochwasser/Sturmfluten', "target": 'Hochwasser in Bächen, Flüssen und Stromtälern', "name":  'Subevent'}]

    var nodesStarkregen = [{'id':'Männlich', 'color':'#82b366'},{'id': '170187', 'color':'#82b366'}, {'id':'Bereichsausbildung Sprechfunker', 'color':'#82b366'},{'id': 'Fachgruppe Führungsunterstützung', 'color':'#82b366'},{'id': '170259', 'color':'#82b366'},{'id': 'Basisausbildung Führungskräfte', 'color':'#82b366'},{'id': 'Bereichsausbildung Sanitäter', 'color':'#82b366'},{'id':'170493', 'color':'#82b366'},{'id':'Ausbildung Kraftfahrer', 'color':'#82b366'},{'id':'170337', 'color':'#82b366'},{'id':'170311', 'color':'#82b366'},{'id':'170318', 'color':'#82b366'},{'id':'Weiblich', 'color':'#82b366'},{'id':'170313', 'color':'#82b366'},{'id':'Grundausbildung', 'color':'#82b366'}, {'id':'170207', 'color':'#82b366'},{'id':'170175', 'color':'#82b366'},{'id':'170180', 'color':'#82b366'},{'id':'170417', 'color':'#82b366'},{'id':'170338', 'color':'#82b366'},{'id':'170374', 'color':'#82b366'},{'id':'170418', 'color':'#82b366'},{'id':'170544', 'color':'#82b366'},{'id':'Fachausbildung Führung und Kommunikation', 'color':'#82b366'}, {'id':'Fachhelfer', 'color':'#82b366'}, {'id':'4', 'color':'#82b366'}, {'id':'Truppführer', 'color':'#82b366'}, {'id':'Gruppenführer', 'color':'#82b366'}, {'id':'Leiter/in des Fernmeldebetriebs', 'color':'#82b366'}, {'id':'-/3/4/7 (+7)', 'color':'#82b366'}, {'id':'Fachkraft IuK, Kraftfahrer/in CE, Sanitätshelfer/in, Sprechfunker/in', 'color':'#82b366'}, {'id':'2', 'color':'#82b366'}, {'id':'Fachkraft IuK, Führungsgehilfe/Führungsgehilfin', 'color':'#82b366'}, {'id':'1', 'color':'#82b366'}, {'id':'6', 'color':'#82b366'}, {'id':'213', 'color':'#82b366'}, {'id':'Actors', 'color':'#d79b00'}, {'id':'Mission', 'color':'#d79b00'}, {'id':'Resources', 'color':'#d79b00'}, {'id':'Führung, Führungsunterstützung und Verbindung', 'color':'#9673a6'}, {'id':'Fernmelden, Datenverarbeitung, Übertragung/Transport von Daten (einfach), Führen von Teileinheiten, Einrichtung und technischer Betrieb einer THW-FüSt und einer FmZt für einen Stab, Einrichten und Betreiben Meldekopf/Lotsenstelle', 'color':'#9673a6'}, {'id':'Führungs- und Kommunikationskraftwagen, Anhänger Führung und Lage', 'color':'#23445d'}, {'id':'Göttingen, Niedersachsen, Germany', 'color':'white'}, {'id':'Location', 'color':'#d79b00'}, {'id':'Northeim, Göttingen, Niedersachsen, Germany', 'color':'white'}, {'id':'Scenario Pattern', 'color':'#b85450'}, {'id':'Impact', 'color':'#d79b00'}, {'id':'Reason', 'color':'#d79b00'}, {'id':'Provenance', 'color':'#d79b00'}, {'id':'Context', 'color':'#d79b00'}, {'id':'Identifier', 'color':'#d79b00'}, {'id':'0:19:44:12', 'color':'#10739e'}, {'id':'THW', 'color':'#36393d'}, {'id':'Gefahren und Anforderungen aufgrund von Natur- ereignissen und anthropogenen Umwelteinflüssen', 'color':'#6c8ebf'}, {'id':'Starkregen, Hagel, Eisregen, Blitzeis', 'color':'#6c8ebf'}, {'id':'Starkregen', 'color':'#6c8ebf'},{'id':'423468', 'color':'#d6b656'}]
    var linksStarkregen = [{"source": '170187', "target": 'Männlich', "name":  'Gender'}, {"source": '170259', "target": 'Männlich', "name":  'Gender'}, {"source": '170493', "target": 'Männlich', "name":  'Gender'}, {"source": '170337', "target": 'Männlich', "name":  'Gender'}, {"source": '170311', "target": 'Männlich', "name":  'Gender'}, {"source": '170318', "target": 'Männlich', "name":  'Gender'}, {"source": '170313', "target": 'Männlich', "name":  'Gender'}, {"source": '170207', "target": 'Männlich', "name":  'Gender'}, {"source": '170175', "target": 'Männlich', "name":  'Gender'}, {"source": '170180', "target": 'Männlich', "name":  'Gender'}, {"source": '170417', "target": 'Männlich', "name":  'Gender'}, {"source": '170374', "target": 'Männlich', "name":  'Gender'}, {"source": '170418', "target": 'Männlich', "name":  'Gender'}, {"source": '170544', "target": 'Männlich', "name":  'Gender'}, {"source": '170338', "target": 'Weiblich', "name":  'Gender'}, {"source": '170187', "target": 'Bereichsausbildung Sprechfunker', "name":  'Qualification'}, {"source": '170259', "target": 'Basisausbildung Führungskräfte', "name":  'Qualification'}, {"source": '170493', "target": 'Bereichsausbildung Sanitäter', "name":  'Qualification'}, {"source": '170337', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '170318', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '170313', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '170207', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '170180', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '170417', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '170311', "target": 'Ausbildung Kraftfahrer', "name":  'Qualification'}, {"source": '170338', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '170418', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '170544', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '170175', "target": 'Fachausbildung Führung und Kommunikation', "name":  'Qualification'}, {"source": '170374', "target": 'Bereichsausbildung Sprechfunker', "name":  'Qualification'}, {"source": 'Fachgruppe Führungsunterstützung', "target": '170180', "name":  'AssignedPerson'}, {"source": 'Fachgruppe Führungsunterstützung', "target": '170175', "name":  'AssignedPerson'}, {"source": 'Fachgruppe Führungsunterstützung', "target": '170207', "name":  'AssignedPerson'}, {"source": 'Fachgruppe Führungsunterstützung', "target": '170313', "name":  'AssignedPerson'}, {"source": 'Fachgruppe Führungsunterstützung', "target": '170318', "name":  'AssignedPerson'}, {"source": 'Fachgruppe Führungsunterstützung', "target": '170311', "name":  'AssignedPerson'}, {"source": 'Fachgruppe Führungsunterstützung', "target": '170337', "name":  'AssignedPerson'}, {"source": 'Fachgruppe Führungsunterstützung', "target": '170493', "name":  'AssignedPerson'}, {"source": 'Fachgruppe Führungsunterstützung', "target": '170259', "name":  'AssignedPerson'}, {"source": 'Fachgruppe Führungsunterstützung', "target": '170187', "name":  'AssignedPerson'}, {"source": 'Fachgruppe Führungsunterstützung', "target": '170417', "name":  'AssignedPerson'}, {"source": 'Fachgruppe Führungsunterstützung', "target": '170338', "name":  'AssignedPerson'}, {"source": 'Fachgruppe Führungsunterstützung', "target": '170374', "name":  'AssignedPerson'}, {"source": 'Fachgruppe Führungsunterstützung', "target": '170418', "name":  'AssignedPerson'}, {"source": 'Fachgruppe Führungsunterstützung', "target": '170544', "name":  'AssignedPerson'}, {"source": 'Fachgruppe Führungsunterstützung', "target": 'Fachhelfer', "name":  'Role'}, {"source": 'Fachgruppe Führungsunterstützung', "target": '-/3/4/7 (+7)', "name":  'Strength'}, {"source": 'Fachhelfer', "target": '4', "name":  'NumberOfActors'}, {"source": 'Fachhelfer', "target": 'Fachkraft IuK, Kraftfahrer/in CE, Sanitätshelfer/in, Sprechfunker/in', "name":  'Function'}, {"source": 'Fachgruppe Führungsunterstützung', "target": 'Truppführer', "name":  'Role'}, {"source": 'Truppführer', "target": '2', "name":  'NumberOfActors'}, {"source": 'Truppführer', "target": 'Fachkraft IuK, Führungsgehilfe/Führungsgehilfin', "name":  'Function'}, {"source": 'Fachgruppe Führungsunterstützung', "target": 'Gruppenführer', "name":  'Role'}, {"source": 'Gruppenführer', "target": '1', "name":  'NumberOfActors'}, {"source": 'Gruppenführer', "target": 'Leiter/in des Fernmeldebetriebs', "name":  'Function'}, {"source": 'Actors', "target": '6', "name":  'NumberOfHelpers'}, {"source": 'Actors', "target": 'Fachgruppe Führungsunterstützung', "name":  'Unit'}, {"source": 'Actors', "target": '213', "name":  'work'}, {"source": 'Actors', "target": 'Mission', "name":  'take'}, {"source": 'Mission', "target": 'Resources', "name":  'requires'}, {"source": 'Mission', "target": 'Führung, Führungsunterstützung und Verbindung', "name":  'ActionType'}, {"source": 'Führung, Führungsunterstützung und Verbindung', "target": 'Fernmelden, Datenverarbeitung, Übertragung/Transport von Daten (einfach), Führen von Teileinheiten, Einrichtung und technischer Betrieb einer THW-FüSt und einer FmZt für einen Stab, Einrichten und Betreiben Meldekopf/Lotsenstelle', "name":  'ActionType'}, {"source": 'Resources', "target": 'Führungs- und Kommunikationskraftwagen, Anhänger Führung und Lage', "name":  'Vehicles'}, {"source": 'Resources', "target": 'Göttingen, Niedersachsen, Germany', "name":  'deployedAt'}, {"source": 'Göttingen, Niedersachsen, Germany', "target": 'Location', "name":  'Is'}, {"source": 'Northeim, Göttingen, Niedersachsen, Germany', "target": 'Location', "name":  'is'}, {"source": 'Scenario Pattern', "target": 'Actors', "name":  'involves'}, {"source": 'Scenario Pattern', "target": 'Northeim, Göttingen, Niedersachsen, Germany', "name":  'reportedAt'}, {"source": 'Scenario Pattern', "target": 'Impact', "name":  'creates'}, {"source": 'Impact', "target": '0:19:44:12', "name":  'Duration'}, {"source": 'Scenario Pattern', "target": 'Reason', "name":  'causedBy'}, {"source": 'Reason', "target": 'Starkregen', "name":  'Precondition'}, {"source": 'Scenario Pattern', "target": 'Provenance', "name":  'describedBy'}, {"source": 'Provenance', "target": 'THW', "name":  'Organization'}, {"source": 'Scenario Pattern', "target": 'Context', "name":  'boundedBy'}, {"source": 'Context', "target": 'Gefahren und Anforderungen aufgrund von Natur- ereignissen und anthropogenen Umwelteinflüssen', "name":  'HazardType'}, {"source": 'Scenario Pattern', "target": 'Identifier', "name":  'definedBy'}, {"source": 'Identifier', "target": '423468', "name":  'ID'}, {"source": 'Gefahren und Anforderungen aufgrund von Natur- ereignissen und anthropogenen Umwelteinflüssen', "target": 'Starkregen, Hagel, Eisregen, Blitzeis', "name":  'Event'}, {"source": 'Starkregen, Hagel, Eisregen, Blitzeis', "target": 'Starkregen', "name":  'Subevent'}]
    
    var nodesStarkregenBek = [ {'id':'Männlich', 'color':'#82b366'}, {'id':'Weiblich', 'color':'#82b366'}, {'id':'1701', 'color':'#82b366'}, {'id':'1803', 'color':'#82b366'}, {'id':'1711', 'color':'#82b366'}, {'id':'1716', 'color':'#82b366'}, {'id':'1700', 'color':'#82b366'}, {'id':'1801', 'color':'#82b366'}, {'id':'1717', 'color':'#82b366'}, {'id':'1988', 'color':'#82b366'}, {'id':'2917', 'color':'#82b366'}, {'id':'2286', 'color':'#82b366'}, {'id':'2332', 'color':'#82b366'}, {'id':'2312', 'color':'#82b366'}, {'id':'2311', 'color':'#82b366'}, {'id':'2289', 'color':'#82b366'}, {'id':'2287', 'color':'#82b366'}, {'id':'Bereichsausbildung Sprechfunker', 'color':'#82b366'}, {'id':'Fachausbildung Wasserschaden / Pumpen', 'color':'#82b366'}, {'id':'Bereichsausbildung Kraftfahrwesen', 'color':'#82b366'}, {'id':'Grundausbildung', 'color':'#82b366'}, {'id':'Bereichsausbildung Atemschutz', 'color':'#82b366'}, {'id':'Bereichsausbildung Sanitätshelfer', 'color':'#82b366'}, {'id':'Fachgruppe Wasserschaden/Pumpen B', 'color':'#82b366'}, {'id':'-/3/9/12 (+12)', 'color':'#82b366'}, {'id':'Fachhelfer', 'color':'#82b366'}, {'id':'4', 'color':'#82b366'}, {'id':'Atemschutzgeräteträger/in, CBRN-Helfer/in, Maschinist/in Pumpen, Kraftfahrer/in CE, Sprechfunker/in, Sanitätshelfer/in', 'color':'#82b366'}, {'id':'Truppführer', 'color':'#82b366'}, {'id':'2', 'color':'#82b366'}, {'id':'1', 'color':'#82b366'}, {'id':'Sprechfunker/in', 'color':'#82b366'}, {'id':'Gruppenführer', 'color':'#82b366'}, {'id':'15', 'color':'#82b366'}, {'id':'212', 'color':'#82b366'}, {'id':'Actors', 'color':'#d79b00'}, {'id':'Mission', 'color':'#d79b00'}, {'id':'Resources', 'color':'#d79b00'}, {'id':'Location', 'color':'#d79b00'}, {'id':'Identifier', 'color':'#d79b00'}, {'id':'Context', 'color':'#d79b00'}, {'id':'Provenance', 'color':'#d79b00'}, {'id':'Reason', 'color':'#d79b00'}, {'id':'Impact', 'color':'#d79b00'}, {'id':'Bekämpfung von Überschwemmungen/Überflutungen', 'color':'#9673a6'}, {'id':'Netz- und Leitungsbau (Abwasser, groß),Pumparbeiten (klein),Pumparbeiten (groß),Pumparbeiten mit Großpumpe (mittel)', 'color':'#9673a6'}, {'id':'Lastkraftwagen Plane/Spriegel mit Ladebordwand (7 t Nutzlast),Mannschaftslastwagen IV Plane/Spriegel mit Ladebordwand,Anhänger mit Schmutzwasser-Kreiselpumpe (15.000 l/min),Anhänger Plane/Spriegel mit Aufnahmen für Container (7 t Zuladung)', 'color':'#23445d'}, {'id':'Göttingen, Niedersachsen, Germany', 'color':'#white'}, {'id':'Northeim, Göttingen, Niedersachsen, Germany', 'color':'#white'}, {'id':'Scenario Pattern', 'color':'#b85450'}, {'id':'2:11:13:07', 'color':'#10739e'}, {'id':'THW', 'color':'#36393d'}, {'id':'234967', 'color':'#d6b656'}, {'id':'Gefahren und Anforderungen aufgrund von Natur- ereignissen und anthropogenen Umwelteinflüssen', 'color':'#6c8ebf'}, {'id':'Starkregen, Hagel, Eisregen, Blitzeis', 'color':'#6c8ebf'}, {'id':'Starkregen', 'color':'#6c8ebf'}]
    var linksStarkregenBek = [ {"source": '1701', "target": 'Männlich', "name":  'Gender'}, {"source": '1711', "target": 'Männlich', "name":  'Gender'}, {"source": '1716', "target": 'Weiblich', "name":  'Gender'}, {"source": '1700', "target": 'Männlich', "name":  'Gender'}, {"source": '1801', "target": 'Männlich', "name":  'Gender'}, {"source": '1717', "target": 'Männlich', "name":  'Gender'}, {"source": '1803', "target": 'Männlich', "name":  'Gender'}, {"source": '1988', "target": 'Männlich', "name":  'Gender'}, {"source": '2917', "target": 'Männlich', "name":  'Gender'}, {"source": '2286', "target": 'Weiblich', "name":  'Gender'}, {"source": '2332', "target": 'Männlich', "name":  'Gender'}, {"source": '2312', "target": 'Weiblich', "name":  'Gender'}, {"source": '2311', "target": 'Männlich', "name":  'Gender'}, {"source": '2289', "target": 'Männlich', "name":  'Gender'}, {"source": '2287', "target": 'Männlich', "name":  'Gender'}, {"source": '1701', "target": 'Bereichsausbildung Sprechfunker', "name":  'Qualification'}, {"source": '1711', "target": 'Fachausbildung Wasserschaden / Pumpen', "name":  'Qualification'}, {"source": '1716', "target": 'Bereichsausbildung Kraftfahrwesen', "name":  'Qualification'}, {"source": '1700', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '1801', "target": 'Fachausbildung Wasserschaden / Pumpen', "name":  'Qualification'}, {"source": '1717', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '1803', "target": 'Bereichsausbildung Atemschutz', "name":  'Qualification'}, {"source": '1988', "target": 'Fachausbildung Wasserschaden / Pumpen', "name":  'Qualification'}, {"source": '2917', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '2286', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '2332', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '2312', "target": 'Bereichsausbildung Sanitätshelfer', "name":  'Qualification'}, {"source": '2311', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '2289', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '2287', "target": 'Bereichsausbildung Sprechfunker', "name":  'Qualification'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '1701', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '1711', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '1716', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '1700', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '1801', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '1717', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '1803', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '1988', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '2917', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '2286', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '2332', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '2312', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '2311', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '2289', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '2287', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '-/3/9/12 (+12)', "name":  'Strength'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": 'Fachhelfer', "name":  'Role'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": 'Gruppenführer', "name":  'Role'}, {"source": 'Fachhelfer', "target": '4', "name":  'NumberOfActors'}, {"source": 'Fachhelfer', "target": 'Atemschutzgeräteträger/in, CBRN-Helfer/in, Maschinist/in Pumpen, Kraftfahrer/in CE, Sprechfunker/in, Sanitätshelfer/in', "name":  'Function'}, {"source": 'Truppführer', "target": '2', "name":  'NumberOfActors'}, {"source": 'Truppführer', "target": 'Sprechfunker/in', "name":  'Function'}, {"source": 'Gruppenführer', "target": '1', "name":  'NumberOfActors'}, {"source": 'Gruppenführer', "target": 'Sprechfunker/in', "name":  'Function'}, {"source": 'Actors', "target": '15', "name":  'NumberOfHelpers'}, {"source": 'Actors', "target": 'Fachgruppe Wasserschaden/Pumpen B', "name":  'Unit'}, {"source": 'Actors', "target": '212', "name":  'work'}, {"source": 'Actors', "target": 'Mission', "name":  'take'}, {"source": 'Mission', "target": 'Bekämpfung von Überschwemmungen/Überflutungen', "name":  'ActionType'}, {"source": 'Bekämpfung von Überschwemmungen/Überflutungen', "target": 'Netz- und Leitungsbau (Abwasser, groß),Pumparbeiten (klein),Pumparbeiten (groß),Pumparbeiten mit Großpumpe (mittel)', "name":  'Action'}, {"source": 'Mission', "target": 'Resources', "name":  'requires'}, {"source": 'Resources', "target": 'Lastkraftwagen Plane/Spriegel mit Ladebordwand (7 t Nutzlast),Mannschaftslastwagen IV Plane/Spriegel mit Ladebordwand,Anhänger mit Schmutzwasser-Kreiselpumpe (15.000 l/min),Anhänger Plane/Spriegel mit Aufnahmen für Container (7 t Zuladung)', "name":  'Vehicles'}, {"source": 'Resources', "target": 'Göttingen, Niedersachsen, Germany', "name":  'deployedAt'}, {"source": 'Göttingen, Niedersachsen, Germany', "target": 'Location', "name":  'Is'}, {"source": 'Northeim, Göttingen, Niedersachsen, Germany', "target": 'Location', "name":  'is'}, {"source": 'Resources', "target": 'Göttingen, Niedersachsen, Germany', "name":  'deployedAt'}, {"source": 'Scenario Pattern', "target": 'Northeim, Göttingen, Niedersachsen, Germany', "name":  'reportedAt'}, {"source": 'Scenario Pattern', "target": 'Impact', "name":  'creates'}, {"source": 'Scenario Pattern', "target": 'Reason', "name":  'causedBy'}, {"source": 'Scenario Pattern', "target": 'Provenance', "name":  'describedBy'}, {"source": 'Scenario Pattern', "target": 'Context', "name":  'boundedBy'}, {"source": 'Scenario Pattern', "target": 'Identifier', "name":  'definedBy'}, {"source": 'Scenario Pattern', "target": 'Actors', "name":  'involves'}, {"source": 'Impact', "target": '2:11:13:07', "name":  'Duration'}, {"source": 'Reason', "target": 'Starkregen', "name":  'Precondition'}, {"source": 'Provenance', "target": 'THW', "name":  'Organization'}, {"source": 'Context', "target": 'Gefahren und Anforderungen aufgrund von Natur- ereignissen und anthropogenen Umwelteinflüssen', "name":  'HazardType'}, {"source": 'Identifier', "target": '234967', "name":  'ID'}, {"source": 'Gefahren und Anforderungen aufgrund von Natur- ereignissen und anthropogenen Umwelteinflüssen', "target": 'Starkregen, Hagel, Eisregen, Blitzeis', "name":  'Event'}, {"source": 'Starkregen, Hagel, Eisregen, Blitzeis', "target": 'Starkregen', "name":  'Subevent'}]


    var nodesHochBek = [{'id':'Hochwasser', 'color':'#666666'}, {'id':'Mannschaftstransportwagen TZ,Anhänger mit Spezialaufbau FGr O (2 t Zuladung)', 'color':'#23445d'},{'id':'Männlich', 'color':'#82b366'}, {'id':'Weiblich', 'color':'#82b366'}, {'id':'1701', 'color':'#82b366'}, {'id':'1711', 'color':'#82b366'}, {'id':'1716', 'color':'#82b366'}, {'id':'1700', 'color':'#82b366'}, {'id':'1801', 'color':'#82b366'}, {'id':'1803', 'color':'#82b366'}, {'id':'1988', 'color':'#82b366'}, {'id':'1717', 'color':'#82b366'}, {'id':'2312', 'color':'#82b366'}, {'id':'2289', 'color':'#82b366'}, {'id':'2287', 'color':'#82b366'}, {'id':'Bereichsausbildung Sprechfunker', 'color':'#82b366'}, {'id':'Fachausbildung Wasserschaden / Pumpen', 'color':'#82b366'}, {'id':'Bereichsausbildung Kraftfahrwesen', 'color':'#82b366'}, {'id':'Grundausbildung', 'color':'#82b366'}, {'id':'Bereichsausbildung Atemschutz', 'color':'#82b366'}, {'id':'Bereichsausbildung Sanitätshelfer', 'color':'#82b366'}, {'id':'-/3/9/12 (+12)', 'color':'#82b366'}, {'id':'Fachhelfer', 'color':'#82b366'}, {'id':'4', 'color':'#82b366'}, {'id':'Atemschutzgeräteträger/in, CBRN-Helfer/in, Maschinist/in Pumpen, Kraftfahrer/in CE, Sprechfunker/in, Sanitätshelfer/in', 'color':'#82b366'}, {'id':'Truppführer', 'color':'#82b366'}, {'id':'2', 'color':'#82b366'}, {'id':'1', 'color':'#82b366'}, {'id':'Sprechfunker/in', 'color':'#82b366'}, {'id':'Gruppenführer', 'color':'#82b366'}, {'id':'11', 'color':'#82b366'}, {'id':'135', 'color':'#82b366'}, {'id':'Fachgruppe Wasserschaden/Pumpen B', 'color':'#82b366'}, {'id':'Actors', 'color':'#d79b00'}, {'id':'Mission', 'color':'#d79b00'}, {'id':'Resources', 'color':'#d79b00'}, {'id':'Location', 'color':'#d79b00'}, {'id':'Identifier', 'color':'#d79b00'}, {'id':'Context', 'color':'#d79b00'}, {'id':'Provenance', 'color':'#d79b00'}, {'id':'Reason', 'color':'#d79b00'}, {'id':'Impact', 'color':'#d79b00'}, {'id':'Bekämpfung von Überschwemmungen/Überflutungen', 'color':'#9673a6'}, {'id':'Orten (biologisch),Orten (technisch, Boden),Bergen/Retten von Personen (leicht),Absperren/Absichern,Erkunden (Boden),Ersthelfen,Führen,Eigenschutz,Transportfähigkeit sicherstellen', 'color':'#9673a6'}, {'id':'Göttingen, Niedersachsen, Germany', 'color':'#white'}, {'id':'Northeim, Göttingen, Niedersachsen, Germany', 'color':'#white'}, {'id':'Scenario Pattern', 'color':'#b85450'}, {'id':'2:09:19:06', 'color':'#10739e'}, {'id':'THW', 'color':'#36393d'}, {'id':'8965332', 'color':'#d6b656'}, {'id':'Gefahren und Anforderungen aufgrund von Natur- ereignissen und anthropogenen Umwelteinflüssen', 'color':'#6c8ebf'}, {'id':'Hochwasser/Sturmfluten', 'color':'#6c8ebf'}, {'id':'Hochwasser in Bächen, Flüssen und Stromtälern', 'color':'#6c8ebf'}]
    var linkssHochBek = [ {"source": '1701', "target": 'Männlich', "name":  'Gender'}, {"source": '1711', "target": 'Männlich', "name":  'Gender'}, {"source": '1716', "target": 'Weiblich', "name":  'Gender'}, {"source": '1700', "target": 'Männlich', "name":  'Gender'}, {"source": '1801', "target": 'Männlich', "name":  'Gender'}, {"source": '1717', "target": 'Männlich', "name":  'Gender'}, {"source": '1803', "target": 'Männlich', "name":  'Gender'}, {"source": '1988', "target": 'Männlich', "name":  'Gender'}, {"source": '2312', "target": 'Weiblich', "name":  'Gender'}, {"source": '2289', "target": 'Männlich', "name":  'Gender'}, {"source": '2287', "target": 'Männlich', "name":  'Gender'}, {"source": '1701', "target": 'Bereichsausbildung Sprechfunker', "name":  'Qualification'}, {"source": '1711', "target": 'Fachausbildung Wasserschaden / Pumpen', "name":  'Qualification'}, {"source": '1716', "target": 'Bereichsausbildung Kraftfahrwesen', "name":  'Qualification'}, {"source": '1700', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '1801', "target": 'Fachausbildung Wasserschaden / Pumpen', "name":  'Qualification'}, {"source": '1717', "target": 'Bereichsausbildung Atemschutz', "name":  'Qualification'}, {"source": '1803', "target": 'Fachausbildung Wasserschaden / Pumpen', "name":  'Qualification'}, {"source": '1988', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '2312', "target": 'Bereichsausbildung Sanitätshelfer', "name":  'Qualification'}, {"source": '2289', "target": 'Grundausbildung', "name":  'Qualification'}, {"source": '2287', "target": 'Bereichsausbildung Sprechfunker', "name":  'Qualification'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '1701', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '1711', "name":  'Qualification'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '1716', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '1700', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '1801', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '1717', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '1803', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '1988', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '2312', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '2289', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '2287', "name":  'Assigned Person'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": '-/3/9/12 (+12)', "name":  'Strength'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": 'Fachhelfer', "name":  'Role'}, {"source": 'Fachgruppe Wasserschaden/Pumpen B', "target": 'Gruppenführer', "name":  'Role'}, {"source": 'Fachhelfer', "target": '4', "name":  'NumberOfActors'}, {"source": 'Fachhelfer', "target": 'Atemschutzgeräteträger/in, CBRN-Helfer/in, Maschinist/in Pumpen, Kraftfahrer/in CE, Sprechfunker/in, Sanitätshelfer/in', "name":  'Function'}, {"source": 'Truppführer', "target": '2', "name":  'NumberOfActors'}, {"source": 'Truppführer', "target": 'Sprechfunker/in', "name":  'Function'}, {"source": 'Gruppenführer', "target": '1', "name":  'NumberOfActors'}, {"source": 'Gruppenführer', "target": 'Sprechfunker/in', "name":  'Function'}, {"source": 'Actors', "target": '11', "name":  'NumberOfHelpers'}, {"source": 'Actors', "target": 'Fachgruppe Wasserschaden/Pumpen B', "name":  'Unit'}, {"source": 'Actors', "target": '135', "name":  'work'}, {"source": 'Actors', "target": 'Mission', "name":  'take'}, {"source": 'Mission', "target": 'Bekämpfung von Überschwemmungen/Überflutungen', "name":  'ActionType'}, {"source": 'Bekämpfung von Überschwemmungen/Überflutungen', "target": 'Orten (biologisch),Orten (technisch, Boden),Bergen/Retten von Personen (leicht),Absperren/Absichern,Erkunden (Boden),Ersthelfen,Führen,Eigenschutz,Transportfähigkeit sicherstellen', "name":  'Action'}, {"source": 'Mission', "target": 'Resources', "name":  'requires'}, {"source": 'Resources', "target": 'Mannschaftstransportwagen TZ,Anhänger mit Spezialaufbau FGr O (2 t Zuladung)', "name":  'Vehicles'}, {"source": 'Resources', "target": 'Göttingen, Niedersachsen, Germany', "name":  'deployedAt'}, {"source": 'Göttingen, Niedersachsen, Germany', "target": 'Location', "name":  'Is'}, {"source": 'Northeim, Göttingen, Niedersachsen, Germany', "target": 'Location', "name":  'is'}, {"source": 'Scenario Pattern', "target": 'Northeim, Göttingen, Niedersachsen, Germany', "name":  'reportedAt'}, {"source": 'Scenario Pattern', "target": 'Impact', "name":  'creates'}, {"source": 'Scenario Pattern', "target": 'Reason', "name":  'causedBy'}, {"source": 'Scenario Pattern', "target": 'Provenance', "name":  'describedBy'}, {"source": 'Scenario Pattern', "target": 'Context', "name":  'boundedBy'}, {"source": 'Scenario Pattern', "target": 'Identifier', "name":  'definedBy'}, {"source": 'Scenario Pattern', "target": 'Actors', "name":  'involves'}, {"source": 'Impact', "target": '2:09:19:06', "name":  'Duration'}, {"source": 'Reason', "target": 'Hochwasser', "name":  'Precondition'}, {"source": 'Provenance', "target": 'THW', "name":  'Organization'}, {"source": 'Context', "target": 'Gefahren und Anforderungen aufgrund von Natur- ereignissen und anthropogenen Umwelteinflüssen', "name":  'HazardType'}, {"source": 'Identifier', "target": '8965332', "name":  'ID'}, {"source": 'Gefahren und Anforderungen aufgrund von Natur- ereignissen und anthropogenen Umwelteinflüssen', "target": 'Hochwasser/Sturmfluten', "name":  'Event'}, {"source": 'Hochwasser/Sturmfluten', "target": 'Hochwasser in Bächen, Flüssen und Stromtälern', "name":  'Subevent'} ]

    var nodes_selected;
    var links_selected;

    //Event
    const dropdown_event = document.getElementById("events-dropdown")
    const selectedOption_event = dropdown_event.options[dropdown_event.selectedIndex];
    const selectedText_event = selectedOption_event.text;
    //Action
    const dropdown_action = document.getElementById("actions-dropdown")
    const selectedOption_action = dropdown_action.options[dropdown_action.selectedIndex];
    const selectedText_action = selectedOption_action.text;

    if (selectedText_event === 'Hochwasser' && selectedText_action === 'Ortungs-, Rettungs-, Bergungsmaßnahmen' ) {
        nodes_selected = nodesHoch
        links_selected = linksHoch
    }else if (selectedText_event === 'Hochwasser' && selectedText_action === 'Bekämpfung von Überschwemmungen/Überflutungen') {
        nodes_selected = nodesHochBek
        links_selected = linkssHochBek
    }else if (selectedText_event === 'Starkregen' && selectedText_action === 'Führung, Führungsunterstützung und Verbindung') {
        nodes_selected = nodesStarkregen
        links_selected = linksStarkregen
    }else if (selectedText_event === 'Starkregen' && selectedText_action === 'Bekämpfung von Überschwemmungen/Überflutungen') {
        nodes_selected = nodesStarkregenBek
        links_selected = linksStarkregenBek
    }

    // Apply label truncation to the data nodes
    var truncatedNodes = nodes_selected.map(function(node) {
        if (node.id.length > 6) {
            node.label = node.id.substring(0, 6) + '...';
        }else{
            node.label = node.id;
        }
        return {
            id: node.id,
            label: node.label,
            color: node.color
        };
    });

    var container = document.getElementById('graph-container2');
    var data = {
        nodes: new vis.DataSet(truncatedNodes),
        edges: new vis.DataSet(links_selected.map(function(links_selected) {
            return {
                from: links_selected.source,
                to: links_selected.target,
                label: links_selected.name
            };
        }))
    };

    var options = {};

    var network = new vis.Network(container, data, options);

    network.moveTo({
        position: {x: 900.0,y:300.0},
        scale: 1 ,
        offset:{x: 0,y:0},
        animation: true
    });

    // Attach a click event listener to the graph
    network.on('click', function(event) {
        console.log(event)
        var nodeId = event.nodes[0]; // Get the clicked node's ID
        if (nodeId) {
            var popup = document.createElement('div');
            popup.className = 'popup_graph';
            popup.textContent = "Id: " + nodeId;
            container.appendChild(popup);

            setTimeout(function() {
                container.removeChild(popup);
            }, 5000);

        }
    });

}

// Function to show the popup
function showPopup(nodeId, x, y) {
    var popup = document.createElement('div');
    popup.className = 'popup';
    popup.textContent = nodeId;
    popup.style.top = 10 + 'px';
    popup.style.left = 10 + 'px';
    document.body.appendChild(popup);

    // Remove the popup after a certain delay (e.g., 3 seconds)
    
}